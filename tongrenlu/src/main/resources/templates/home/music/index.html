<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
    layout:decorator="home/layout">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link rel="stylesheet" type="text/css" href="http://static.tongrenlu.info/jquery.jpaginate/css/style.css" media="screen"/>
        <title th:text="#{home.music} + ' | ' + #{application}"></title>
    </head>
<body>
    <div class="navbar navbar-default navbar-fixed-top" layout:fragment="header">
        <div class="container">
            <div class="navbar-header ">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="sr-only" th:text="#{application}"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html" th:href="@{/}" th:text="#{application}"></a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-collapse">
                <ul class="nav navbar-nav navbar-left">
                    <li class=""><a th:href="@{/music}" th:text="#{home.music}"></a></li>
                </ul>
                <ul id="nav-signin" class="nav navbar-nav navbar-right hidden">
                    <li class=""><a th:href="@{/signup}" th:text="#{login.signup}" rel="nofollow"></a></li>
                    <li class=""><a href="#signinModal" data-toggle="modal" th:text="#{login.signin}"></a></li>
                </ul>
                <ul id="nav-console" class="nav navbar-nav navbar-right hidden">
                    <li class=""><a th:href="@{/console}" th:text="#{console}" rel="nofollow"></a></li>
                    <li class="dropdown">
                        <a href="javascript:;" class="dropdown-toggle " data-toggle="dropdown" >
                            <span id="nav-nickname" th:text="#{UserBean.nickname}"></span> <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li ><a th:href="@{/console/setting}" th:text="#{console.profile.setting}" rel="nofollow"></a></li>
                            <li ><a th:href="@{/console/password}" th:text="#{console.profile.password}" rel="nofollow"></a></li>
                            <li><a th:href="@{/signout}" th:text="#{login.signout}" rel="nofollow"></a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div layout:fragment="content">
        <div class="container-wrap container-header" >
            <div class="container">
                <div class="row">
                    <div class="col-sm-8" >
                        <h1 th:text="#{home.music}"></h1>
                        <div th:replace="home/layout_music_index::search-form"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-wrap container-wrap-darker" >
            <div class="container">
                <div class="row">
                    <div class="col-sm-8">
                        <div th:replace="home/layout_music_index::list-content"></div>
                        <div class="alert alert-warning" th:if="${#lists.isEmpty(page.items)}">
                            <h4 th:text="#{home.article.noData}"></h4>
                            <a th:href="@{/music}" th:text="#{button.back}" class="btn btn-default"></a>
                        </div>
                    </div>
                    <div class="col-sm-4" >
                        <div th:replace="home/layout_music_index::ranking"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <th:block layout:fragment="scripts">
        <script type="text/javascript" src="http://static.tongrenlu.info/jquery.jpaginate/jquery.paginate.js"></script>
        <script type="text/javascript" th:src="@{/tongrenlu/js/tongrenlu-paginate.js}"></script>
        <script type="text/javascript" th:inline="javascript">
        $(function() {
            new paginate({
                count       : /*[[${page.pageCount}]]*/ 20,
                start       : /*[[${page.pageNumber}]]*/ 1,
                onChange                : function (currval){
                    var url = /*[[@{/music(p='')}]]*/ '/music';
                    window.location.href = url + currval;
                    return false;
                }
            });
        });
        </script>
        <script type="text/javascript" src="http://cdn.bootcss.com/d3/3.5.3/d3.min.js"></script>
        <script type="text/javascript" src="http://cdn.bootcss.com/trianglify/0.1.5/trianglify.min.js"></script>
        <script type="text/javascript" th:src="@{/tongrenlu/js/tongrenlu-trianglify.js}"></script>
        <script type="text/javascript" th:inline="javascript">
        $(function() {
            $('.container-header').trianglify({
                palette: 'home'
            });
        });
        </script>
    </th:block>
</body>
</html>